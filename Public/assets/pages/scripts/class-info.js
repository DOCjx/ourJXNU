var ClassInfo=function(){var e=function(){if(!$.count(hyDetailJSON.grades))return $.actionAlert({status:!1,info:"数据异常！"});var e=[];$.each(hyDetailJSON.classes,function(t,a){e.push(a.name)});var t=[];$.each(hyDetailJSON.grades,function(e,a){var n=a.name+"级";t.push({name:n,value:a.value})});var a={title:{text:"班级人数汇总统计饼图",subtext:"数据更新："+$.date("Y-m-d"),x:550},tooltip:{show:!0,formatter:"{a} <br>{b} : {c}人 ({d}%)"},legend:{orient:"vertical",x:"left",data:e},toolbox:{show:!0,feature:{restore:{show:!0},saveAsImage:{show:!0}}},calculable:!0,series:[{name:"年级",type:"pie",center:["64%",290],radius:80,itemStyle:{normal:{label:{position:"inner",formatter:function(e,t,a,n){return(n-0).toFixed(0)+"%"}},labelLine:{show:!1}},emphasis:{label:{show:!0,formatter:"{b} {d}%"}}},data:t},{name:"年级",type:"pie",center:["64%",290],radius:[110,140],data:hyDetailJSON.classes}]};$(".chart-container").css({width:860,height:500}).echarts(a)},t=function(){$hyall.on("shown.hyall.detail.chart",function(){e()})};return{init:function(){t()}}}();